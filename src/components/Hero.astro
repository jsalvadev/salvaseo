---
import WhatsAppButton from './WhatsAppButton.astro';
import heroImage from '../assets/hero.webp';
---

<div class='bg-white'>
  <header class='fixed inset-x-0 top-0 z-50 bg-white border-b border-gray-200'>
    <nav
      aria-label='Global'
      class='mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8'>
      <div class='flex lg:flex-1'>
        <a
          href='/'
          class='-m-1.5 p-1.5 flex items-center gap-x-2'>
          <span class='sr-only'>SalvaSEO</span>
          <img
            src='/logo.png'
            alt='SalvaSEO Logo'
            width='32'
            height='32'
            class='h-8 w-auto'
          />
          <span class='text-xl font-bold text-petrol-900'>SalvaSEO</span>
        </a>
      </div>
      <div class='flex lg:hidden'>
        <button
          type='button'
          command='show-modal'
          commandfor='mobile-menu'
          class='-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700'>
          <span class='sr-only'>Open main menu</span>
          <svg
            viewBox='0 0 24 24'
            fill='none'
            stroke='currentColor'
            stroke-width='1.5'
            data-slot='icon'
            aria-hidden='true'
            class='size-6'>
            <path
              d='M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5'
              stroke-linecap='round'
              stroke-linejoin='round'
            ></path>
          </svg>
        </button>
      </div>
      <div class='hidden lg:flex lg:gap-x-12 lg:items-center'>
        <a
          href='#sobre-mi'
          class='text-sm/6 font-semibold text-petrol-900'
          >Sobre mí</a
        >
        <a
          href='#servicios'
          class='text-sm/6 font-semibold text-petrol-900'
          >Servicios</a
        >
        <a
          href='#proceso'
          class='text-sm/6 font-semibold text-petrol-900'
          >Proceso</a
        >
        <a
          href='#contacto'
          class='text-sm/6 font-semibold text-petrol-900'
          >Contacto</a
        >
        <span class='text-gray-300'>|</span>
        <a
          href='tel:+34692051399'
          class='text-sm/6 font-semibold text-sky-500 hover:text-sky-600'
          >+34 692 051 399</a
        >
      </div>
    </nav>
    <el-dialog>
      <dialog
        id='mobile-menu'
        class='backdrop:bg-transparent lg:hidden'>
        <div
          tabindex='0'
          class='fixed inset-0 focus:outline-none'>
          <el-dialog-panel
            class='fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-white p-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10'>
            <div class='flex items-center justify-between'>
              <a
                href='/'
                class='-m-1.5 p-1.5 flex items-center gap-x-2'>
                <span class='sr-only'>SalvaSEO</span>
                <img
                  src='/logo.png'
                  alt='SalvaSEO Logo'
                  width='32'
                  height='32'
                  class='h-8 w-auto'
                />
                <span class='text-xl font-bold text-petrol-900'>SalvaSEO</span>
              </a>
              <button
                type='button'
                command='close'
                commandfor='mobile-menu'
                class='-m-2.5 rounded-md p-2.5 text-gray-700'>
                <span class='sr-only'>Close menu</span>
                <svg
                  viewBox='0 0 24 24'
                  fill='none'
                  stroke='currentColor'
                  stroke-width='1.5'
                  data-slot='icon'
                  aria-hidden='true'
                  class='size-6'>
                  <path
                    d='M6 18 18 6M6 6l12 12'
                    stroke-linecap='round'
                    stroke-linejoin='round'
                  ></path>
                </svg>
              </button>
            </div>
            <div class='mt-6 flow-root'>
              <div class='-my-6 divide-y divide-gray-500/10'>
                <div class='space-y-2 py-6'>
                  <a
                    href='#sobre-mi'
                    class='-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-petrol-900 hover:bg-gray-50'
                    >Sobre mí</a
                  >
                  <a
                    href='#servicios'
                    class='-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-petrol-900 hover:bg-gray-50'
                    >Servicios</a
                  >
                  <a
                    href='#proceso'
                    class='-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-petrol-900 hover:bg-gray-50'
                    >Proceso</a
                  >
                  <a
                    href='#contacto'
                    class='-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-petrol-900 hover:bg-gray-50'
                    >Contacto</a
                  >
                  <div class='border-t border-gray-200 pt-4 mt-4'>
                    <a
                      href='tel:+34692051399'
                      class='-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-sky-500 hover:bg-sky-50'
                      >+34 692 051 399</a
                    >
                  </div>
                </div>
              </div>
            </div>
          </el-dialog-panel>
        </div>
      </dialog>
    </el-dialog>
  </header>
  <div
    class='relative isolate overflow-hidden bg-linear-to-b from-petrol-100/20 pt-14'>
    <div
      aria-hidden='true'
      class='absolute inset-y-0 right-1/2 -z-10 -mr-96 w-[200%] origin-top-right skew-x-[-30deg] bg-white shadow-xl ring-1 shadow-petrol-900/10 ring-petrol-50 sm:-mr-80 lg:-mr-96'>
    </div>
    <div class='mx-auto max-w-7xl px-6 py-32 sm:py-40 lg:px-8'>
      <div
        class='mx-auto max-w-2xl lg:mx-0 lg:grid lg:max-w-none lg:grid-cols-2 lg:gap-x-16 lg:gap-y-8 xl:grid-cols-1 xl:grid-rows-1 xl:gap-x-8'>
        <div class='lg:col-span-2 xl:col-auto'>
            <h1 class='text-base/7 font-semibold text-sky-500 mb-4'>Consultor SEO en Barcelona</h1>
          <p
            class='max-w-2xl text-5xl font-semibold tracking-tight text-balance text-petrol-900 sm:text-7xl'>
            Cada día pierdes clientes que no saben que existes
          </p>
        </div>
        <div class='mt-6 max-w-xl lg:mt-0 xl:col-end-1 xl:row-start-1'>
          <p class='text-lg font-medium text-pretty text-petrol-900 sm:text-xl/8'>
            Tienes un buen negocio. Sabes hacer tu trabajo mejor que nadie. Pero cuando alguien busca en Google lo que ofreces en Barcelona, no te encuentra. ¿Te suena familiar?
          </p>
          <p class='mt-4 text-lg font-medium text-pretty text-petrol-900 sm:text-xl/8'>
            Tus competidores reciben llamadas porque tienen un especialista SEO que le explica a Google por qué deberían aparecer primero, no es magia.
          </p>
          <p class='mt-4 text-lg font-medium text-pretty text-petrol-900 sm:text-xl/8'>
            No necesitas una agencia que trabaja a distancia. Un buen consultor SEO cerca de ti entiende Barcelona, conoce tu zona y te posiciona sin gastar miles de euros.
          </p>
          <div class='mt-10 flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-x-6'>
            <WhatsAppButton text='Hablemos por WhatsApp' />
            <a
              href='#servicios'
              class='text-sm/6 font-semibold text-petrol-900'
              >Cómo puedo ayudarte <span aria-hidden='true'>→</span></a
            >
          </div>
        </div>
        <img
          src={heroImage.src}
          width={heroImage.width}
          height={heroImage.height}
          alt='Consultor SEO trabajando en estrategia digital para negocios locales en Barcelona'
          class='mt-10 aspect-6/5 w-full max-w-lg rounded-2xl object-cover outline-1 -outline-offset-1 outline-black/5 sm:mt-16 lg:mt-0 lg:max-w-none xl:row-span-2 xl:row-end-2 xl:mt-36'
        />
      </div>
    </div>
  </div>
</div>

<script>
  // Close mobile menu when clicking navigation links
  document.addEventListener('DOMContentLoaded', () => {
    const mobileDialog = document.getElementById('mobile-menu') as HTMLDialogElement;
    const mobileNavLinks = document.querySelectorAll('#mobile-menu a[href^="#"]');

    mobileNavLinks.forEach(link => {
      link.addEventListener('click', () => {
        // Small delay to allow smooth scroll to initiate before closing
        setTimeout(() => {
          if (mobileDialog && mobileDialog.open) {
            mobileDialog.close();
          }
        }, 100);
      });
    });
  });
</script>
