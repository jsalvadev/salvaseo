---
import '@fontsource/titan-one'
---

<header class='fixed inset-x-0 top-0 z-50 bg-white border-b border-gray-200'>
  <nav
    aria-label='Global'
    class='mx-auto flex max-w-7xl items-center justify-between px-6 py-3 lg:px-8'>
    <div class='flex lg:flex-1'>
      <a
        href='/'
        class='-m-1.5 p-1.5 flex items-center gap-x-2'>
        <span class='sr-only'>SalvaSEO</span>
        <img
          src='/logo.png'
          alt='SalvaSEO Logo'
          width='48'
          height='49'
          class='h-12 w-auto'
        />
        <span class='brand-wordmark text-xl text-petrol-900'>SalvaSEO</span>
      </a>
    </div>
    <div class='flex lg:hidden'>
      <button
        type='button'
        command='show-modal'
        commandfor='mobile-menu'
        class='-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700'>
        <span class='sr-only'>Open main menu</span>
        <svg
          viewBox='0 0 24 24'
          fill='none'
          stroke='currentColor'
          stroke-width='1.5'
          data-slot='icon'
          aria-hidden='true'
          class='size-6'>
          <path
            d='M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5'
            stroke-linecap='round'
            stroke-linejoin='round'
          ></path>
        </svg>
      </button>
    </div>
    <div class='hidden lg:flex lg:gap-x-12 lg:items-center'>
      <a
        href='/#sobre-mi'
        class='text-sm/6 font-semibold text-petrol-900'
        >Sobre mí</a
      >
      <div class='relative group'>
        <button
          type='button'
          class='flex items-center gap-x-1 text-sm/6 font-semibold text-petrol-900'>
          Servicios
          <svg
            viewBox='0 0 20 20'
            fill='currentColor'
            aria-hidden='true'
            class='size-5'>
            <path
              fill-rule='evenodd'
              d='M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z'
              clip-rule='evenodd'
            ></path>
          </svg>
        </button>
        <div
          class='hidden group-hover:block group-focus-within:block absolute left-0 z-10 mt-2 w-64 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none before:content-[""] before:absolute before:inset-x-0 before:-top-2 before:h-2'>
          <div class='py-1'>
            <a
              href='/posicionamiento-web-barcelona'
              class='block px-4 py-2 text-sm text-petrol-900 hover:bg-gray-50'>
              Posicionamiento Web Barcelona
            </a>
          </div>
        </div>
      </div>
      <a
        href='/#contacto'
        class='text-sm/6 font-semibold text-petrol-900'
        >Contacto</a
      >
      <span class='text-gray-300'>|</span>
      <a
        href='tel:+34692051399'
        class='text-sm/6 font-semibold text-sky-500 hover:text-sky-600'
        >+34 692 051 399</a
      >
    </div>
  </nav>
  <el-dialog>
    <dialog
      id='mobile-menu'
      class='backdrop:bg-transparent lg:hidden'>
      <div
        tabindex='0'
        class='fixed inset-0 focus:outline-none'>
        <el-dialog-panel
          class='fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-white p-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10'>
          <div class='flex items-center justify-between'>
            <a
              href='/'
              class='-m-1.5 p-1.5 flex items-center gap-x-2'>
              <span class='sr-only'>SalvaSEO</span>
              <img
                src='/logo.png'
                alt='SalvaSEO Logo'
                width='48'
                height='49'
                class='h-12 w-auto'
              />
              <span class='brand-wordmark text-xl text-petrol-900'
                >SalvaSEO</span
              >
            </a>
            <button
              type='button'
              command='close'
              commandfor='mobile-menu'
              class='-m-2.5 rounded-md p-2.5 text-gray-700'>
              <span class='sr-only'>Close menu</span>
              <svg
                viewBox='0 0 24 24'
                fill='none'
                stroke='currentColor'
                stroke-width='1.5'
                data-slot='icon'
                aria-hidden='true'
                class='size-6'>
                <path
                  d='M6 18 18 6M6 6l12 12'
                  stroke-linecap='round'
                  stroke-linejoin='round'
                ></path>
              </svg>
            </button>
          </div>
          <div class='mt-6 flow-root'>
            <div class='-my-6 divide-y divide-gray-500/10'>
              <div class='space-y-2 py-6'>
                <a
                  href='/#sobre-mi'
                  class='-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-petrol-900 hover:bg-gray-50'
                  >Sobre mí</a
                >
                <details class='-mx-3'>
                  <summary
                    class='flex cursor-pointer list-none items-center justify-between rounded-lg px-3 py-2 text-base/7 font-semibold text-petrol-900 hover:bg-gray-50'>
                    Servicios
                    <svg
                      viewBox='0 0 20 20'
                      fill='currentColor'
                      aria-hidden='true'
                      class='size-5'>
                      <path
                        fill-rule='evenodd'
                        d='M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z'
                        clip-rule='evenodd'
                      ></path>
                    </svg>
                  </summary>
                  <div class='mt-1 pl-4'>
                    <a
                      href='/posicionamiento-web-barcelona'
                      class='block rounded-lg px-3 py-2 text-sm/6 font-semibold text-petrol-900 hover:bg-gray-50'
                      >Posicionamiento Web Barcelona</a
                    >
                  </div>
                </details>
                <a
                  href='/#contacto'
                  class='-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-petrol-900 hover:bg-gray-50'
                  >Contacto</a
                >
                <div class='border-t border-gray-200 pt-4 mt-4'>
                  <a
                    href='tel:+34692051399'
                    class='-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-sky-500 hover:bg-sky-50'
                    >+34 692 051 399</a
                  >
                </div>
              </div>
            </div>
          </div>
        </el-dialog-panel>
      </div>
    </dialog>
  </el-dialog>
</header>

<script>
  // Close mobile menu when clicking navigation links
  document.addEventListener('DOMContentLoaded', () => {
    const mobileDialog = document.getElementById(
      'mobile-menu'
    ) as HTMLDialogElement
    const mobileNavLinks = document.querySelectorAll(
      '#mobile-menu a[href^="#"]'
    )

    mobileNavLinks.forEach(link => {
      link.addEventListener('click', () => {
        // Small delay to allow smooth scroll to initiate before closing
        setTimeout(() => {
          if (mobileDialog && mobileDialog.open) {
            mobileDialog.close()
          }
        }, 100)
      })
    })
  })
</script>

<style>
  .brand-wordmark {
    font-family: 'Titan One', sans-serif;
    font-weight: 400;
    letter-spacing: 0.02em;
  }

  details > summary::-webkit-details-marker {
    display: none;
  }

  details[open] > summary svg {
    transform: rotate(180deg);
  }
</style>
